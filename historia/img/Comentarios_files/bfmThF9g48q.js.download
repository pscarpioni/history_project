if (self.CavalryLogger) { CavalryLogger.start_js(["6RzhZ"]); }

__d("MPageletTypes",[],(function a(b,c,d,e,f,g){f.exports={CHROME:"chrome",CONTENT:"content"};}),null);
__d("XFeedNewStoriesBadgeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/feed\/badge\/",{});}),null);
__d('MFeedJewel',['CSS','DOM','MHistory','MJewel','MJewels','MPageController','MRequest','MURI','Stratcom','SubscriptionsHandler','XFeedNewStoriesBadgeController','$','ScriptPath'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u,v,w,x,y,z,aa=0,ba=9,ca=15000;function da(oa){h.conditionClass(x,'popoverOpen',true);}function ea(oa){h.conditionClass(x,'popoverOpen',false);}function fa(){if(w)return;w=new q();w.addSubscriptions(i.listen(s(k.JEWEL_NAV_NODE_ID),'click','feed',ia));w.addSubscriptions(p.listen('m:history:change',null,ha));}function ga(){w&&w.release();w=null;}function ha(oa){var pa=oa.getData().soft;for(var qa=0,ra=Object.keys(l);qa<ra.length;qa++)if(l[ra[qa]]===pa){ea();return;}da();}function ia(oa){var pa=oa.getNode('icon').getAttribute('href');if(new o(pa).normalize().toString()===new o(j.getPath()).normalize().toString()){oa.kill();m.reload({reloaded:true});}t.set('topbar_feed');}function ja(oa){i.setContent(u,oa>ba?ba+'+':''+oa);h.conditionClass(x,'noCount',!oa);h.conditionClass(x,'hasCount',oa);}function ka(){if(aa>ba)return;clearTimeout(z);z=setTimeout(function(){la();},ca);}function la(){var oa=r.getURIBuilder();y=new n(oa.getURI().toString());y.listen('done',function(pa){aa=pa.payload.count;ja(pa.payload.count);});y.listen('finally',function(){y=null;ka();});y.send();}function ma(){ja();clearTimeout(z);z=null;aa=0;}function na(oa,pa,qa){if(v)return;v=true;x=oa;if(!qa)u=i.find(x,'span','count');p.listen('m:homepage:load',null,function(){da();fa();if(u)ma();});p.listen('m:homepage:unload',null,function(){ea();ga();if(u)ka();});if(pa){fa();}else if(u)ka();}f.exports={init:na};}),null);
__d('MGenericJewel',['CSS','DOM','MHistory','MJewel','MViewport','MJewels','Stratcom','ScriptPath','$'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q={};function r(s,t,u){if(q[s])return;q[s]=true;var v,w;i.listen(p(k.JEWEL_NAV_NODE_ID),'click',s,function(x){if(x.getNode('icon')){x.prevent();if(!v){j.pushSoftState(s);n.invoke('MGenericJewel::clicked',s,{open:true});}else if(s===m.SEARCH)n.invoke('m:chrome:tab:show',s,{open:true});}o.set('topbar_'+s);});n.listen('m:history:change',null,function(x){var y=x.getData().soft===s;if(!y&&(v||w))n.invoke('m:chrome:tab:hide',s);h.conditionClass(t,'popoverOpen',y);if(u){h.conditionClass(u,'popover_hidden',!y);h.conditionClass(u,'popover_visible',y);if(y)u.style.minHeight=l.getUseableHeight()+'px';}if(y&&!v)n.invoke('m:chrome:tab:show',s);w=x.getData().soft===undefined;v=y;});}f.exports={init:r};}),null);
__d('MInitJewelCounts',['Stratcom'],(function a(b,c,d,e,f,g,h){var i=function j(k){h.invoke('m:jewels:init-counts',null,k);};g.main=i;}),null);
__d('MSearchConst',[],(function a(b,c,d,e,f,g){f.exports={refid:46,news_search:'news',video_search:'video',content_search:'content',msite_news_null_state:'mnns',msite_news_non_gs_null_state:'mnngns',event_click:'click',event_impression:'imp'};}),null);
__d("XMobileSearchTrendingLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/graphsearch\/trending\/logging\/",{topic_ids:{type:"IntVector",required:true},source:{type:"String",required:true},positions:{type:"IntVector",required:true},query_id:{type:"Int",required:true},event:{type:"String",required:true}});}),null);
__d('MSearchTrendingLogger',['XMobileSearchTrendingLoggingController','MRequest','MSearchConst','Run','Stratcom','forEachObject'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){var n=null,o={registerTrendingTopicListeners:function p(q,r,s,t){var u,v=this;if(!n){n={};k.onLeave(function(){m(n,function(z){return z.remove();});n=null;});}var w=[],x=function z(aa){var ba=q[aa];if(ba==null||n[ba])return 'continue';n[ba]=l.listen('click',ba,function(){this._logTrendingTopicClick(ba,r,s[aa],t);}.bind(v));w.push(n[ba]);};for(var y=0;y<q.length;y++){var u=x(y);if(u==='continue')continue;}return w;},logTrendingTopicImpressions:function p(q,r,s,t){if(!q||q.length===0)return;for(var u=0;u<q.length;u++)if(q[u]==null){q.splice(u,1);s.splice(u,1);u--;}var v=h.getURIBuilder().setIntVector('topic_ids',q).setString('source',r).setIntVector('positions',s).setInt('query_id',t).setString('event',j.event_impression).getURI(),w=new i(v);w.send();},_logTrendingTopicClick:function p(q,r,s,t){if(!q)return;return function(){var u=h.getURIBuilder().setIntVector('topic_ids',[q]).setString('source',r).setIntVector('positions',[s]).setInt('query_id',t).setString('event',j.event_click).getURI(),v=new i(u);v.send();};}};f.exports=o;}),null);
__d('MSearchOverlay',['setTimeoutAcrossTransitions','$','CSS','DOM','MLegacyDataStore','MSearchConst','MSearchTrendingLogger','MViewport','MLinkHack','Stratcom','URI','Vector'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=function u(v){var w=i(v.overlay),x=k.find(w,'div','typeahead-hardpoint'),y=i(v.textinput),z=v.nullstate,aa=v.emptyStatePromo;if(y.tagName!=='input')y=k.find(y,'input');var ba=l.get(x);if(ba.typeahead){ca();}else q.listen('m:search-typeahead:ready',null,ca);function ca(){var da=ba.typeahead;q.listen('m:text-input:clear',null,ma);var ea,fa=true;function ga(){return Math.max(s.getDim(w).y+o.getHeaderHeight(),o.getScreenHeight());}function ha(){if(!aa)return;j.conditionShow(aa,da.getValue().length===0);}function ia(pa){ea=o.addHeightConstraint(ga());j.conditionClass(i("page"),'sideSearchShowing',true);o.scrollToHeader();ha();if(z&&da.getValue().length===0)ja(z);}function ja(pa){var qa=pa.getElementsByClassName('jx-typeahead-results')[0].getAttribute('data-query'),ra=[],sa=[],ta=pa.getElementsByClassName('jx-result');for(var ua=0;ua<ta.length;ua++){ra.push(ta[ua].getAttribute('data-topic'));sa.push(ua+1);}n.registerTrendingTopicListeners(ra,m.msite_news_non_gs_null_state,sa,qa);n.logTrendingTopicImpressions(ra,m.msite_news_non_gs_null_state,sa,qa);}function ka(pa){j.conditionClass(i("page"),'sideSearchShowing',false);ea&&ea.release();ea=null;}function la(pa){q.invoke('log-m-search-session-end',null,{reason:pa});}function ma(){da.clear();da.refresh();}function na(){fa=false;ma();oa();ha();}function oa(){y.blur();}q.listen('m:chrome:tab:show','search',function(pa){ia();y.focus();});q.listen('m:chrome:tab:hide','search',function(pa){la('cancel');na();ka();});da.listen('show',function(){h(function(){ea&&ea.setValue(ga());},0);if(z)if(da.getValue().length>0){k.hide(z);}else k.show(z);ha();});k.listen(x,'click','typeahead-result',function(pa){var qa=q.invoke('m:search-typehead:click',null,pa.getNode('typeahead-result')),ra=qa.getData();p.safe(ra,function(sa){sa.href=new r(sa.href).addQueryData('refid',m.refid);});qa.setData(ra);if(qa.getPrevented()){if(qa.getStopped()){pa.kill();}else pa.prevent();oa();}else{setTimeout(function(){na();},0);ka();}});da.listen('refresh-viewport',function(){q.context().prevent();});da.listen('choose',function(){q.context().prevent();});w.onclick=function(){y.focus();};k.listen(w,'touchstart','jx-result',oa);k.listen(y,'focus',null,function(pa){fa=true;o.scrollToHeader();});da.listen('blur',function(pa){if(fa)pa.prevent();});q.listen('m:side-area:hide',null,function(){la('back');ka();});}};g.main=t;}),null);
__d('MReactTypeaheadView',['React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,h.Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.Renderer;return (h.createElement(l,{data:this.props.data,query:this.props.query,waiting:this.props.waiting,loaderMarkup:this.props.loaderMarkup,onTouchStart:this.props.onTouchStart,onClickItem:this.props.onClickItem,simpleSearch:this.props.simpleSearch,excludedEntries:this.props.excludedEntries,maxSuggestionCount:this.props.maxSuggestionCount}));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d("XBookmarksFlyoutBodyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/bookmarks\/flyout\/body\/",{id:{type:"String",required:true}});}),null);
__d('MChromeTabsBootloader',['MJewels','MRequest','Stratcom','XBookmarksFlyoutBodyController'],(function a(b,c,d,e,f,g,h,i,j,k){var l={bootloadBookmarks:function m(n){j.listen('m:chrome:tab:show',h.BOOKMARKS,function(){j.removeCurrentListener();new i(k.getURIBuilder().setString('id',n).getURI()).send();});}};f.exports=l;}),null);
__d('MRecentSearchesUpdater',['Stratcom','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i){var j='search-recent-queries';function k(l){'use strict';this.$MRecentSearchesUpdater1=new i();this.$MRecentSearchesUpdater1.addSubscriptions(l.listen('change',this.changeQuery.bind(this)),l.listen('select',this.addRecentSearchWithSelection.bind(this)),l.listen('show',this.changeResults.bind(this)),l.listen('query',this.addRecentSearchWithQuery.bind(this)),l.listen('refreshRecent',this.refreshRecent.bind(this)));}k.prototype.destroy=function(){'use strict';this.$MRecentSearchesUpdater1.release();};k.prototype.refreshRecent=function(){'use strict';h.invoke('refreshRecent',j,{});};k.prototype.changeQuery=function(l){'use strict';this.currentQuery=l;};k.prototype.changeResults=function(l){'use strict';if(l.show){this.results=l.show.slice();}else this.results=l.slice();};k.prototype.addRecentSearchWithQuery=function(){'use strict';h.invoke('addRecentQuery',j,{query:this.currentQuery});};k.prototype.addRecentSearchWithSelection=function(l){'use strict';var m=l&&(l.rel||l.getAttribute('rel'));if(!m){this.addRecentSearchWithQuery();return;}for(var n=0;n<this.results.length;n++)if(this.results[n].id===m)h.invoke('addRecentSearch',j,{result:this.results[n]});};f.exports=k;}),null);
__d('MSearchTypeaheadLogger',['setTimeoutAcrossTransitions','MLegacyDataStore','DOM','MTouchClick','MRequest','SubscriptionsHandler','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o=1000;function p(r){var s=[];for(var t=0,u=r.length;t<u;t++){var v=r[t];if(v.getAttribute('rel')>0){var w={id:v.getAttribute('rel')};w.type=v.type;w.renderType=v.renderType;try{var y=j.find(v,'a','typeahead-result');if(i.get(y).bootstrap)w.bootstrap=1;}catch(x){}s.push(w);}}return s;}function q(r,s){'use strict';this.typeahead=r;this.uri=s;this.initialize();this.emptyQueryResults=[];this.addSubscriptions();}q.prototype.destroy=function(){'use strict';clearTimeout(this.blurTimeout);this.subscriptions.release();};q.prototype.addSubscriptions=function(){'use strict';var r=k.hasTouchEvents()?'touchend':'click';if(this.subscriptions)this.subscriptions.release();this.subscriptions=new m();this.subscriptions.addSubscriptions(this.typeahead.listen('focus',function(){this.startSession(this.typeahead.getValue(),{force:true});}.bind(this)),this.typeahead.listen('change',function(s){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(!t.preventSessionStart)this.startSession(s);if(this.sessionInProgress())this.data.query=s;}.bind(this)),this.typeahead.listen('keypress',function(s){this.keypressed+=1;}.bind(this)),this.typeahead.listen('select',function(s){var t=s&&(s.rel||s.getAttribute('rel'));if(!this.data.query)this.data.null_state=1;this.data.click_event=Date.now();if(t){this.data.selected_id=t;}else this.data.selected_search=1;if(this.results&&this.results.length&&this.data.query&&this.data.query.length)n.invoke('m:search-typeahead:select',null,{node:s,results:this.results.slice(),query:this.data.query.slice()});this.logToServer();}.bind(this)),this.typeahead.listen('show',function(s){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(!t.preventSessionStart)this.startSession(this.typeahead.getValue());if(this.sessionInProgress())if(s.show){this.results=p(s.show);if(!this.typeahead.getValue())this.emptyQueryResults=this.results;}else{this.data.candidate_results=s.slice().filter(function(u){return !u.isInvalidated;});if(!this.typeahead.getValue())this.emptyQueryResults=this.data.candidate_results;}}.bind(this)),this.typeahead.listen('query',function(s,t){this.data.selected_search=1;this.data.selected_type=t;this.logToServer();}.bind(this)),n.listen(r,'search-activator',function(){this.startSession('',{force:true});}.bind(this)),n.listen(r,'graph-search-activator',function(){this.startSession('',{force:true});}.bind(this)),this.typeahead.listen('scroll',function(event){this.data.scrolled=1;}.bind(this)));};q.prototype.updateTypeahead=function(r){'use strict';this.typeahead=r;this.addSubscriptions();};q.prototype.blur=function(r){'use strict';this.blurInProgress=true;this.blurTimeout=h(function(){this.data.session_end_reason=r;if(!this.data.query)this.data.null_state=1;this.logToServer();}.bind(this),o);};q.prototype.startSession=function(r,s){'use strict';s=s||{};if(this.sessionID==null&&(r||s.force)){this.data={};this.keypressed=0;this.sessionID=Math.random().toString();this.data.query=r;this.data.session_start=Date.now();n.invoke('m-typeahead-logger:new-session-id',null,{sessionID:this.sessionID,query:r});}};q.prototype.sessionInProgress=function(){'use strict';if(this.sessionID!==null&&!this.blurInProgress)return true;return false;};q.prototype.logToServer=function(){'use strict';clearTimeout(this.blurTimeout);if(this.sessionID!=null){this.data.sid=this.sessionID;this.data.count_keys_pressed=this.keypressed;this.data.typeahead_type=this.typeahead.getTypeaheadType&&this.typeahead.getTypeaheadType();this.data.candidate_results=this.data.candidate_results||[];if(this.data.candidate_results.length===0)this.data.candidate_results=this.results;this.data.null_state_candidate_results=this.emptyQueryResults;var r=new l(this.uri);r.setMethod('POST').setData({stats:JSON.stringify(this.data)}).send();}this.initialize();};q.prototype.initialize=function(){'use strict';this.data={};this.sessionID=null;this.keypressed=0;this.results=[];this.blurInProgress=false;};f.exports=q;}),null);
__d('MSearchTypeaheadPerfLogger',['BanzaiScuba','CurrentUser','SubscriptionsHandler','performanceNow'],(function a(b,c,d,e,f,g,h,i,j,k){function l(m,n,o){'use strict';this._searchType=n.type;this._sampleRate=n.sample_rate;this._siteType=n.site;this._cacheEnable=o?1:0;this.init(m);this.initEvents();this._reset();}l.prototype.init=function(m){'use strict';this._data=m.getDatasource();this._typeahead=m;if(this._typeahead.props&&this._typeahead.props.vertical)this._vertical=this._typeahead.props.vertical;};l.prototype.initEvents=function(){'use strict';this._subscriptions=new j();this._subscriptions.addSubscriptions(this._data.listen('initial_render',this.initialRender.bind(this)),this._data.listen('after_complete',this.complete.bind(this)),this._data.listen('req_dispatch',this.remoteRequestDispatch.bind(this)),this._data.listen('req_sent',this.remoteRequestSent.bind(this)),this._data.listen('req_recv',this.remoteRequestReceived.bind(this)),this._typeahead.listen('update',this.queryStart.bind(this)),this._typeahead.listen('render_start',this.renderStart.bind(this)),this._typeahead.listen('rendered',this.rendered.bind(this)));};l.prototype.destroy=function(){'use strict';this._subscriptions.release();};l.prototype._reset=function(){'use strict';this._startTime=null;this._intialRenderTime=null;this._remoteRequestDispatchTime=null;this._remoteRequestSentTime=null;this._remoteRequestReceivedTime=null;this._renderStart=null;this._rendered=null;this._endTime=null;this._cacheOnly=1;this._resultLength=0;this._originQuery=null;this._query=null;};l.prototype.initialRender=function(){'use strict';this._intialRenderTime=Date.now();};l.prototype.complete=function(){'use strict';this._endTime=Date.now();this._query=this._typeahead.getValue();this.logToScuba();this._reset();};l.prototype.queryStart=function(m){'use strict';this._reset();this._originQuery=m;this._startTime=Date.now();};l.prototype.renderStart=function(){'use strict';this._renderStart=k();};l.prototype.rendered=function(){'use strict';this._rendered=k()-this._renderStart;};l.prototype.remoteRequestDispatch=function(m){'use strict';this._remoteRequestDispatchTime=Date.now();this._sid=m;};l.prototype.remoteRequestSent=function(){'use strict';this._remoteRequestSentTime=Date.now();};l.prototype.remoteRequestReceived=function(m){'use strict';this._remoteRequestReceivedTime=Date.now();this._resultLength=m;this._cacheOnly=0;};l.prototype.logToScuba=function(){'use strict';if(this._startTime===null)return;if(this._originQuery!==this._query)return;var m=new h('mobile_search_facebar_js',null,{addBrowserFields:true,addPredictedGeographyFields:true,addUser:true,addSearchVersion:true,addGatekeepers:{mtouchGKs:true}});m.addInteger('sample_rate',this._sampleRate);m.addNormal('typeahead_type',this._searchType);m.addNormal('site',this._siteType);if(this._vertical){m.addNormal('vertical',this._vertical);m.addNormal('search_mode',this._typeahead.state.searchMode);}m.addNormal('session_id',this._sid);m.addNormal('user_id',i.getID());m.addNormal('query',this._query);m.addInteger('cache_keypress_render',Math.max(this._intialRenderTime-this._startTime,0));if(this._rendered)m.addInteger('rendered',this._rendered);if(this._cacheOnly===0){m.addInteger('remote_keypress_query_dispatch',Math.max(this._remoteRequestDispatchTime-this._startTime,0));m.addInteger('remote_keypress_query_start',Math.max(this._remoteRequestSentTime-this._startTime,0));m.addInteger('remote_keypress_query_end',Math.max(this._remoteRequestReceivedTime-this._startTime,0));m.addInteger('remote_keypress_render',Math.max(this._endTime-this._startTime,0));m.addInteger('remote_render',Math.max(this._endTime-this._remoteRequestReceivedTime,0));m.addInteger('time_js_async',Math.max(this._remoteRequestReceivedTime-this._remoteRequestSentTime,0));}m.addInteger('end_to_end',Math.max(this._endTime-this._startTime,0));m.addInteger('num_result',this._resultLength);m.addNormal('is_cache_only',this._cacheOnly);m.addNormal('is_cache_enable',this._cacheEnable);m.post();};f.exports=l;}),null);
__d('MSearchTypeaheadPerfLoggerV2',['Banzai','Stratcom','SubscriptionsHandler','URI'],(function a(b,c,d,e,f,g,h,i,j,k){function l(m,n,o,p){'use strict';this.$MSearchTypeaheadPerfLoggerV211=3;this.$MSearchTypeaheadPerfLoggerV212=3;this.$MSearchTypeaheadPerfLoggerV22=n;this.$MSearchTypeaheadPerfLoggerV21=m;this.$MSearchTypeaheadPerfLoggerV24='mtouch_typeahead_log_perf';this.$MSearchTypeaheadPerfLoggerV25='mtouch_serp_log_perf';this.$MSearchTypeaheadPerfLoggerV28=p;this.$MSearchTypeaheadPerfLoggerV29='';this.$MSearchTypeaheadPerfLoggerV23={query:null,latencyData:[],typeaheadType:this.$MSearchTypeaheadPerfLoggerV22,sessionID:null,sessionStartTime:null,click:false,isBootstrapClick:false,isExactMatchKeywordClick:false,isNullStateClick:false,isSeeMoreClick:false};this.$MSearchTypeaheadPerfLoggerV214();this.$MSearchTypeaheadPerfLoggerV215();}l.prototype.$MSearchTypeaheadPerfLoggerV214=function(){'use strict';this.$MSearchTypeaheadPerfLoggerV213=new j();this.$MSearchTypeaheadPerfLoggerV213.addSubscriptions(i.listen('m-typeahead-logger:new-session-id',null,function(m){this.$MSearchTypeaheadPerfLoggerV216(m.getData().sessionID,m.getData().query);}.bind(this)),i.listen('log-m-search-session-end',null,function(m){this.$MSearchTypeaheadPerfLoggerV217();this.$MSearchTypeaheadPerfLoggerV215();}.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen('update',this.onQueryUpdated.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen('show',this.onResultsRendered.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen('select',this.onResultLinkReady.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen('on-enter-pressed',this.onEnterPressed.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen('result-selected',this.onResultSelected.bind(this)),i.listen('m:page:render:complete',null,function(m){var n=new k(this.$MSearchTypeaheadPerfLoggerV29),o=new k(m.getData().path),p=Date.now()-this.$MSearchTypeaheadPerfLoggerV210;if(n.getPath()===o.getPath()&&p>=0){var q={tti:p,typeaheadType:this.$MSearchTypeaheadPerfLoggerV22,uriPath:n.getPath()};h.post(this.$MSearchTypeaheadPerfLoggerV25,q,{delay:this.$MSearchTypeaheadPerfLoggerV211,retry:true});}this.$MSearchTypeaheadPerfLoggerV29='';}.bind(this)));};l.prototype.destroy=function(){'use strict';this.$MSearchTypeaheadPerfLoggerV213.release();};l.prototype.onEnterPressed=function(m){'use strict';this.$MSearchTypeaheadPerfLoggerV29=m;this.$MSearchTypeaheadPerfLoggerV210=Date.now();};l.prototype.onResultLinkReady=function(m){'use strict';this.$MSearchTypeaheadPerfLoggerV29=m.href;this.$MSearchTypeaheadPerfLoggerV210=Date.now();};l.prototype.onResultsRendered=function(m,n){'use strict';var o=this.$MSearchTypeaheadPerfLoggerV218(),p=this.$MSearchTypeaheadPerfLoggerV219(o);if(p==null)return;if(!this.$MSearchTypeaheadPerfLoggerV220())return;var q=Array.isArray(m)?this.$MSearchTypeaheadPerfLoggerV221(m):this.$MSearchTypeaheadPerfLoggerV221(m.show);if(this.$MSearchTypeaheadPerfLoggerV222(q))return;var r=m.show?q.map(function(v){return {isNullStateSuggestion:o==='',isFromCache:v.isFromCache,isSeeMore:v.isSeeMore};}):q,s=r.every(function(v){return (v.isNullStateSuggestion||v.isSeeMore||v.exactMatchKeyword);})&&r.some(function(v){return v.isNullStateSuggestion;}),t=r.every(function(v){return v.exactMatchKeyword||v.isSeeMore;}),u=r.every(function(v){return (v.isFromCache||v.isSeeMore||v.exactMatchKeyword);})&&r.some(function(v){return v.isFromCache;})&&!t;this.$MSearchTypeaheadPerfLoggerV23.latencyData.push({query:o,allFromNullState:s,allFromCache:u,allFromEcho:t||q.length===0,latency:Date.now()-p});this.$MSearchTypeaheadPerfLoggerV27=q;};l.prototype.onQueryUpdated=function(m){'use strict';if(this.$MSearchTypeaheadPerfLoggerV220()){this.$MSearchTypeaheadPerfLoggerV23.query=m;this.$MSearchTypeaheadPerfLoggerV26[m]=Date.now();}};l.prototype.onResultSelected=function(m){'use strict';if(m.id){if(m.bootstrapped){this.$MSearchTypeaheadPerfLoggerV23.isBootstrapClick=true;}else if(m.exactMatchKeyword){this.$MSearchTypeaheadPerfLoggerV23.isExactMatchKeywordClick=true;}else if(m.isSeeMore){this.$MSearchTypeaheadPerfLoggerV23.isSeeMoreClick=true;}else if(m.isNullStateSuggestion)this.$MSearchTypeaheadPerfLoggerV23.isNullStateClick=true;}else if(m.rel>0){var n=this.$MSearchTypeaheadPerfLoggerV28.get(m);if(n)this.$MSearchTypeaheadPerfLoggerV23.isBootstrapClick=n.bootstrap==1;this.$MSearchTypeaheadPerfLoggerV23.isNullStateClick=this.$MSearchTypeaheadPerfLoggerV218()==='';}else this.$MSearchTypeaheadPerfLoggerV23.isSeeMoreClick=true;this.$MSearchTypeaheadPerfLoggerV23.click=true;};l.prototype.$MSearchTypeaheadPerfLoggerV215=function(){'use strict';this.$MSearchTypeaheadPerfLoggerV26={};this.$MSearchTypeaheadPerfLoggerV27=[];this.$MSearchTypeaheadPerfLoggerV23.query=null;this.$MSearchTypeaheadPerfLoggerV23.latencyData=[];this.$MSearchTypeaheadPerfLoggerV23.sessionID=null;this.$MSearchTypeaheadPerfLoggerV23.sessionStartTime=null;this.$MSearchTypeaheadPerfLoggerV23.click=false;this.$MSearchTypeaheadPerfLoggerV23.isBootstrapClick=false;this.$MSearchTypeaheadPerfLoggerV23.isExactMatchKeywordClick=false;this.$MSearchTypeaheadPerfLoggerV23.isNullStateClick=false;this.$MSearchTypeaheadPerfLoggerV23.isSeeMoreClick=false;};l.prototype.$MSearchTypeaheadPerfLoggerV218=function(){'use strict';return this.$MSearchTypeaheadPerfLoggerV21.getValue()||'';};l.prototype.$MSearchTypeaheadPerfLoggerV220=function(){'use strict';return this.$MSearchTypeaheadPerfLoggerV23.sessionID!=null;};l.prototype.$MSearchTypeaheadPerfLoggerV216=function(m,n){'use strict';this.$MSearchTypeaheadPerfLoggerV215();this.$MSearchTypeaheadPerfLoggerV23.sessionID=m;this.$MSearchTypeaheadPerfLoggerV23.sessionStartTime=Date.now();this.$MSearchTypeaheadPerfLoggerV23.query=n;this.$MSearchTypeaheadPerfLoggerV23.typeaheadType=this.$MSearchTypeaheadPerfLoggerV22;};l.prototype.$MSearchTypeaheadPerfLoggerV219=function(m){'use strict';if(this.$MSearchTypeaheadPerfLoggerV26[m]!=null){return this.$MSearchTypeaheadPerfLoggerV26[m];}else return this.$MSearchTypeaheadPerfLoggerV23.sessionStartTime;};l.prototype.$MSearchTypeaheadPerfLoggerV222=function(m){'use strict';var n=this.$MSearchTypeaheadPerfLoggerV27.filter(function(p){return p.id!='seeMore';}).map(function(p){return p.display;}),o=m.filter(function(p){return p.id!='seeMore';}).map(function(p){return p.display;});return n.length==o.length&&n.every(function(p,q){return p==o[q];});};l.prototype.$MSearchTypeaheadPerfLoggerV221=function(m){'use strict';var n=this.$MSearchTypeaheadPerfLoggerV21;return m.filter(function(o){return !o.isInvalidated&&o!==n.loadingIndicator;});};l.prototype.$MSearchTypeaheadPerfLoggerV217=function(){'use strict';var m={query:this.$MSearchTypeaheadPerfLoggerV23.query,latencyData:this.$MSearchTypeaheadPerfLoggerV23.latencyData,typeaheadType:this.$MSearchTypeaheadPerfLoggerV22,sessionID:this.$MSearchTypeaheadPerfLoggerV23.sessionID,sessionStartTime:this.$MSearchTypeaheadPerfLoggerV23.sessionStartTime,click:this.$MSearchTypeaheadPerfLoggerV23.click,isBootstrapClick:this.$MSearchTypeaheadPerfLoggerV23.isBootstrapClick,isExactMatchKeywordClick:this.$MSearchTypeaheadPerfLoggerV23.isExactMatchKeywordClick,isNullStateClick:this.$MSearchTypeaheadPerfLoggerV23.isNullStateClick,isSeeMoreClick:this.$MSearchTypeaheadPerfLoggerV23.isSeeMoreClick};h.post(this.$MSearchTypeaheadPerfLoggerV24,m,{delay:this.$MSearchTypeaheadPerfLoggerV212,retry:true});i.invoke('typeahead-perf-logger-did-log',null,m);};f.exports=l;}),null);
__d('MSearchTypeaheadPerfLoggerUtil',['MLegacyDataStore','MSearchTypeaheadPerfLogger','MSearchTypeaheadPerfLoggerV2','SearchMTouchGlobalOptions'],(function a(b,c,d,e,f,g,h,i,j,k){var l={getNewMSearchTypeaheadPerfLogger:function m(n,o,p){if(k.useNewTypeaheadPerfLogger){return new j(n,o.type,p,h);}else return new i(n,o,p);}};f.exports=l;}),null);
__d("XLiveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/sports\/{?query}\/",{date:{type:"Int"},ref:{type:"String"},source:{type:"String"},region_id:{type:"Int"},year:{type:"Int"},fref:{type:"String"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"}});}),null);
__d('MTypeaheadNullstateSource',['URI','Stratcom','MTypeaheadTouchSource','XLiveController'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n='graph-search-entry-point',o='search-recent-queries';l=babelHelpers.inherits(p,j);m=l&&l.prototype;function p(q,r){'use strict';m.constructor.call(this,q,r);i.listen('setCurrentProfileID',n,function(event){if(event.getData().profileID!==this.profileID){this.profileID=event.getData().profileID;this.refresh();}}.bind(this));i.listen('addRecentSearch',o,function(event){var s=event.getData().result;if(s)this.addRecentResult(s);}.bind(this));i.listen('addRecentQuery',o,function(event){var s=event.getData().query;if(s){var t=this.makeRecentResultWithQuery(s);this.addRecentResult(t);}}.bind(this));i.listen('refreshRecent',o,function(){this.refresh();}.bind(this));i.listen('searchRefreshNullstate',null,function(){return this.refresh();}.bind(this));}p.prototype.makeRecentResultWithQuery=function(q){'use strict';return {display:q,name:q,id:q,uri:'/search/top/?q='+q};};p.prototype.addRecentResult=function(q){'use strict';if(q.isTrending)return;q.isRecentSearch=true;var r={},s=0;q.idx=s;r[q.id]=q;for(var t in this._raw)if(t!=q.id){s++;this._raw[t].idx=s;r[t]=this._raw[t];}this._raw=r;};p.prototype.refresh=function(){'use strict';this._raw={};this.sendRequest();};p.prototype.getAuxiliaryData=function(){'use strict';return {profile_id:this.profileID?this.profileID:this.groupID?this.groupID:null,disable_single_state:this.singleStateDisabled===true,enable_scoped:this.scopedEnabled===true};};p.prototype.ondata=function(q){'use strict';m.ondata.call(this,q.nullstate);};p.prototype.matchResults=function(q){'use strict';var r=[];if(q==='')r=Object.keys(this._raw);this.sortHits(q,r);var s=this.renderNodes(q,r);this.invoke('resultsready',s);this.invoke('complete');};p.prototype.setCurrentProfileID=function(q){'use strict';this.profileID=q;};p.prototype.setForceDisableSingleState=function(q){'use strict';this.singleStateDisabled=q;};p.prototype.setEnableScoped=function(q){'use strict';this.scopedEnabled=q;};p.prototype.sortHits=function(q,r){'use strict';r.sort(this.sortingFunction.bind(this));};p.prototype.sortingFunction=function(q,r){'use strict';var s=this._raw[q],t=isNaN(s.idx)?Number.MAX_VALUE:s.idx,u=this._raw[r],v=isNaN(u.idx)?Number.MAX_VALUE:u.idx;return t-v;};p.prototype.getTransformer=function(){'use strict';return function(q){if(q.keyword_type==='trending'){var r=new h('/topic/'+q.id);if(q.isSport)r=k.getURIBuilder().setString('query',String(q.id)).setString('ref','m_search_null_state').getURI();return {id:q.name,display:q.name,name:q.name,uri:r.toString(),topicID:q.id,trendingQueryID:q.trendingQueryID,subtext:q.articleTitle,type:'trending',photo:q.articleImageURI,actionTime:0,isTrending:true,isNullStateSuggestion:true};}if(q.type==='keyword'||q.type==='grammar'){r=new h(q.path||q.uri);return {cost:q.cost,idx:q.idx,display:q.text,name:q.text,type:'keyword',id:q.uid,uri:r.toString(),actionTime:q.action_time,isPYMK:q.pymk,isRecentSearch:q.recent_search,subtext:q.subtext,logInfo:q.logInfo,isNullStateSuggestion:true,isScoped:q.is_scoped};}return {actionTime:q.action_time,name:q.text,uri:q.path||q.uri,id:q.uid||q.id,display:q.name||q.text,photo:q.photo,category:q.category,cost:q.cost,idx:q.idx,tokens:q.tokens,type:q.type[0].toUpperCase()+q.type.slice(1),verticalType:q.vertical_type,is_verified:q.is_verified,subtext:q.subtext,isPYMK:q.pymk,isRecentSearch:q.recent_search,logInfo:q.logInfo,isNullStateSuggestion:true,isScoped:q.is_scoped};};};f.exports=p;}),null);
__d('MReactTypeahead',['DOM','EventEmitter','MPageController','MReactTypeaheadView','MRecentSearchesUpdater','MSearchConst','MSearchTypeaheadLogger','MSearchTypeaheadPerfLoggerUtil','MTypeaheadNullstateSource','MTypeaheadOnDemandSource','MTypeaheadTouchSource','MTypeaheadTouchSourceWithSuggestions','Parent','React','ReactDOM','Stratcom','SubscriptionsHandler','TypeaheadCompositeSource','URI','Vector','csx','cx'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){'use strict';var da,ea,fa=u.PropTypes,ga=10;da=babelHelpers.inherits(ha,u.Component);ea=da&&da.prototype;function ha(){var ja,ka;for(var la=arguments.length,ma=Array(la),na=0;na<la;na++)ma[na]=arguments[na];return ka=(ja=ea.constructor).call.apply(ja,[this].concat(ma)),ia.call(this),ka;}ha.prototype.shouldComponentUpdate=function(ja,ka){if(this.state.resultData!==ka.resultData||this.state.waiting!==ka.waiting)return true;var la=ja.excludedEntries,ma=this.props.excludedEntries;for(var na in la)if(la[na]!==ma[na])return true;for(var oa in ma)if(ma[oa]!==la[oa])return true;if(this.props.configureDataSourceOnNewProps&&this.props.maxSuggestionCount!==ja.maxSuggestionCount)return true;return false;};ha.prototype.componentDidMount=function(){this.refs.input.type="search";if(this.props.configureDataSourceOnNewProps)this.configureDatasource();if(this.props.focusOnMount)this.focusInput();if(this.props.initialInputValue)this.setInputValue(this.props.initialInputValue);};ha.prototype.componentWillUpdate=function(){this.$MReactTypeahead5('render_start');};ha.prototype.componentDidUpdate=function(ja,ka){this.props.onUpdate&&this.props.onUpdate();if(this.props.configureDataSourceOnNewProps&&this.props.maxSuggestionCount!==ja.maxSuggestionCount){this.setDatasource(null);this.configureDatasource();this.query(this.state.query,true);}this.$MReactTypeahead5('rendered');};ha.prototype.render=function(){var ja=this.props.showClearButton&&this.state.query,ka=this.props.typeaheadRootClassName||"_5fn4",la=u.createElement('input',{type:'search',ref:'input',className:'input',autoCorrect:'off',autoComplete:'off',autoCapitalize:'off',name:'query',placeholder:this.props.placeholder,onBlur:this.props.onBlur,onKeyUp:this.onKeyUp,onKeyDown:this.props.onKeyDown,onFocus:this.$MReactTypeahead8,onChange:this.inputChanged});if(this.props.typeaheadConfig.submitOnEnter)la=u.createElement('form',{ref:'searchForm',action:'/search',className:"_4e7a",onSubmit:this.onSearchFormSubmit},la,u.createElement('input',{type:'hidden',name:'source',value:'typeahead'}));var ma="_5fn6 touchable";if(this.props.useStandardClearButton)ma="_5fn6 touchable mClearButton";var na=this.props.hideSelected?this.$MReactTypeahead6(this.state.resultData):this.state.resultData;return (u.createElement('div',{className:this.props.className},u.createElement('div',{className:ka},u.createElement('div',{className:"_5fn5"},la,u.createElement('div',{className:ma,'data-sigil':'touchable',style:{display:ja?'':'none'},onMouseDown:this.onClearButtonEvent,onTouchStart:this.onClearButtonEvent},u.createElement('div',null,'\u00D7')))),u.createElement(k,{ref:'results',Renderer:this.props.presenter.ViewRenderer,data:na,excludedEntries:this.props.excludedEntries,query:this.state.query,waiting:this.state.waiting,loaderMarkup:this.props.typeaheadConfig.loaderMarkup,onTouchStart:this.props.onTouchStart,simpleSearch:this.props.simpleSearch,onClickItem:this.$MReactTypeahead9,maxSuggestionCount:this.props.maxSuggestionCount})));};ha.prototype.$MReactTypeahead11=function(){if(!this.$MReactTypeahead4)this.$MReactTypeahead4=new x();return this.$MReactTypeahead4;};ha.prototype.cleanup=function(){this.$MReactTypeahead10(null);this.$MReactTypeahead4&&this.$MReactTypeahead4.release();};ha.prototype.componentWillUnmount=function(){this.cleanup();};ha.propTypes={onClickItem:fa.func,onBlur:fa.func,onKeyUp:fa.func,onKeyDown:fa.func,onTouchStart:fa.func,placeholder:fa.string,presenter:fa.object.isRequired,showClearButton:fa.bool,typeaheadConfig:fa.object.isRequired,excludedEntries:fa.object,getTypeaheadOnDemandSource:fa.func,getTypeaheadTouchSource:fa.func,getTypeaheadCompositeSource:fa.func,getTypeaheadNullstateSource:fa.func,onFocus:fa.func,simpleSearch:fa.bool,suggestions:fa.array,hideSelected:fa.bool,maxSuggestionCount:fa.number,configureDataSourceOnNewProps:fa.bool,setAllSourceMaxCount:fa.bool,setNullstateData:fa.array,focusOnMount:fa.bool,initialInputValue:fa.string,showSelectedInput:fa.bool};var ia=function ja(){this.state={resultData:[],query:null,waiting:false};this.$MReactTypeahead1=null;this.$MReactTypeahead3=null;this.listen=function(ka,la){this.$MReactTypeahead3=this.$MReactTypeahead3||new i();return this.$MReactTypeahead3.addListener(ka,la.bind(this));}.bind(this);this.$MReactTypeahead5=function(ka,la){this.$MReactTypeahead3&&this.$MReactTypeahead3.emit.apply(this.$MReactTypeahead3,[ka].concat(la));}.bind(this);this.waitForResults=function(){this.setState({waiting:true});}.bind(this);this.showResults=function(ka){if(this.props.setNullstateData!=null&&v.findDOMNode(this.refs.input).value==='')ka=this.props.setNullstateData;if(this.props.hideSelected)ka=this.$MReactTypeahead6(ka);ka.forEach(function(la){la.uri=new z(la.uri).addQueryData('refid',m.refid);return la;});this.setState({resultData:ka,waiting:true},this.$MReactTypeahead7);this.$MReactTypeahead5('show',[ka]);}.bind(this);this.$MReactTypeahead6=function(ka){var la=this.props.excludedEntries;if(la)return ka.filter(function(ma){return !la[ma.id];});return ka;}.bind(this);this.$MReactTypeahead7=function(){if(this.state.query==null)this.setState({waiting:false});}.bind(this);this.complete=function(){this.setState({waiting:false});}.bind(this);this.reset=function(){v.findDOMNode(this.refs.input).value='';this.query('',true);}.bind(this);this.query=function(ka,la){la=la||false;if(la||this.state.query!==ka){this.$MReactTypeahead5('update',[ka]);this.$MReactTypeahead5('change',[ka]);this.setState({query:ka});}}.bind(this);this.inputChanged=function(){if(v.findDOMNode(this.refs.input).value==='')this.query('');}.bind(this);this.onSearchFormSubmit=function(event){event.preventDefault();var ka=v.findDOMNode(this.refs.input),la=ka.value;this.$MReactTypeahead5('query',[this.state.resultData]);var ma=new z('/search/?query').addQueryData('query',la).toString();j.load(ma);}.bind(this);this.setInputValue=function(ka){if(ka)v.findDOMNode(this.refs.input).value=ka;}.bind(this);this.onKeyUp=function(event){var ka=this.getInputValue();this.query(ka);this.props.onKeyUp&&this.props.onKeyUp(event);}.bind(this);this.onClearButtonEvent=function(event){event.preventDefault();this.reset();this.focusInput();}.bind(this);this.getInputValue=function(){return v.findDOMNode(this.refs.input).value;}.bind(this);this.getInputNode=function(){return v.findDOMNode(this.refs.input);}.bind(this);this.getValue=function(){return this.getInputValue();}.bind(this);this.focusInput=function(){v.findDOMNode(this.refs.input).focus();}.bind(this);this.blurInput=function(){v.findDOMNode(this.refs.input).blur();}.bind(this);this.$MReactTypeahead9=function(event,ka,la){this.reset();this.props.onClickItem&&this.props.onClickItem(event,ka,la);if(this.props.showSelectedInput&&ka.name)this.setInputValue(ka.name);this.$MReactTypeahead5('select',[t.bySelector(event.target,"._5fna")]);this.$MReactTypeahead5('result-selected',[ka]);this.forceUpdate();}.bind(this);this.getDisplayedHeight=function(){var ka=v.findDOMNode(this.refs.results),la=aa.getPos(ka).y;return aa.getDim(ka).y+la;}.bind(this);this.getDatasource=function(){return this.$MReactTypeahead1;}.bind(this);this.$MReactTypeahead10=function(ka){if(this.$MReactTypeahead1)this.$MReactTypeahead1.unbindFromTypeahead(this);if(this.$MReactTypeahead2){this.$MReactTypeahead2.release();delete this.$MReactTypeahead2;}this.$MReactTypeahead1=ka;if(!this.$MReactTypeahead1)return;this.$MReactTypeahead2=new x();this.$MReactTypeahead2.addSubscriptions(ka.listen('waiting',this.waitForResults),ka.listen('resultsready',this.showResults),ka.listen('complete',this.complete));ka.bindToTypeahead(this);}.bind(this);this.configureDatasource=function(ka){if(this.$MReactTypeahead1)return;var la=this.props.typeaheadConfig.sources,ma=[],na=new z(la.bootstrapped.src);if(this.props.includeFamilyTags){var oa=na.getQueryData();oa.filter.push('family_tags');na.setQueryData(oa);}var pa=this.getTypeaheadTouchSource(na.toString(),la.bootstrapped.source_key,this.props.suggestions);pa.setShowSecondaryAction(true);pa.reactRendered=true;this.touchSource=pa;ma.push(pa);if(la.nullstate){this.nullstateDataSource=this.getTypeaheadNullstateSource(la.nullstate.src);this.nullstateDataSource.setMaximumResultCount(la.nullstate.max_results);this.nullstateDataSource.setShowSecondaryAction(true);this.nullstateDataSource.reactRendered=true;ma.push(this.nullstateDataSource);}pa=this.getTypeaheadOnDemandSource(la.online.src);pa.setMaximumResultCount(la.online.max_results);pa.setEnableImmediateReturnOfCachedResults(la.online.enable_caching);if(ka){if(ka.enableQueryThrottle)pa.setThrottleSendRequest(ka.queryThrottleTime);pa.setMaxResults(ka.maxResults);pa.setEnableEagerSendRequest(ka.enableEagerSendRequest);pa.setQueryDelay(ka.queryWaitTime);}pa.setShowSecondaryAction(true);pa.reactRendered=true;ma.push(pa);if(this.props.setAllSourceMaxCount)for(var qa=ma,ra=Array.isArray(qa),sa=0,qa=ra?qa:qa[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ta;if(ra){if(sa>=qa.length)break;ta=qa[sa++];}else{sa=qa.next();if(sa.done)break;ta=sa.value;}var ua=ta;ua.setMaximumResultCount(this.props.maxSuggestionCount);}var va=this.getTypeaheadCompositeSource(ma);if(this.props.typeaheadConfig.excludeids)this.props.typeaheadConfig.excludeids.forEach(function(wa){va.addExcludeID(wa);});va.reactRendered=true;va.mergeKey='id';this.$MReactTypeahead10(va);this.$MReactTypeahead5('start');}.bind(this);this.configureMSideNavMarauderLogger=function(){if(!this.props.typeaheadConfig.mSideNavMarauderLogger||this.$MReactTypeahead12)return;this.props.typeaheadConfig.mSideNavMarauderLogger.setupTypeaheadListener(this);this.$MReactTypeahead12=true;}.bind(this);this.configureMRecentSearchesUpdater=function(){if(this.props.typeaheadConfig.hasRecentSearches){var ka=new l(this);this.$MReactTypeahead11().addSubscriptions({remove:ka.destroy});}}.bind(this);this.configureMSearchTypeaheadLogger=function(){if(this.$MReactTypeahead13)return;this.$MReactTypeahead11().addSubscriptions(w.listen('m-typeahead-logger:new-session-id',null,this.addSessionIDToSearch));var ka='/search/metrics.php',la=new n(this,ka);this.$MReactTypeahead13=true;this.$MReactTypeahead11().addSubscriptions(w.listen('log-m-search-session-end',null,function(ma){la.blur(ma.getData().reason);}));}.bind(this);this.configureMSearchTypeaheadPerfLogger=function(){if(!this.props.typeaheadConfig.typeaheadScubaInfo||this.$MReactTypeahead14)return;var ka=o.getNewMSearchTypeaheadPerfLogger(this,this.props.typeaheadConfig.typeaheadScubaInfo,this.props.typeaheadConfig.sources.online.enable_caching);this.$MReactTypeahead11().addSubscriptions({remove:ka.destroy});this.$MReactTypeahead14=true;}.bind(this);this.addSessionIDToSearch=function(ka){if(!this.refs||!this.refs.searchForm)return;var la=v.findDOMNode(this.refs.searchForm),ma=h.scry(la,'input','search-typeahead-session-id')[0];if(!ma){ma=document.createElement('input');ma.type='hidden';ma.name='tsid';la.appendChild(ma);w.addSigil(ma,'search-typeahead-session-id');}ma.value=ka.getData().sessionID;}.bind(this);this.getTypeaheadCompositeSource=function(ka){if(this.props.getTypeaheadCompositeSource)return this.props.getTypeaheadCompositeSource(ka);return new y(ka);}.bind(this);this.getTypeaheadOnDemandSource=function(ka){if(this.props.getTypeaheadOnDemandSource)return this.props.getTypeaheadOnDemandSource(ka);return new q(ka);}.bind(this);this.getTypeaheadTouchSource=function(ka,la,ma){if(this.props.getTypeaheadTouchSource)return this.props.getTypeaheadTouchSource(ka,la);if(ma){var na=new s(ka,la,ma);if(this.props.maxSuggestionCount){na.setMaximumResultCount(this.props.maxSuggestionCount);}else na.setMaximumResultCount(ga);return na;}return new r(ka,la);}.bind(this);this.getTypeaheadNullstateSource=function(ka){if(this.props.getTypeaheadNullstateSource)return this.props.getTypeaheadNullstateSource(ka);return new p(ka);}.bind(this);this.getTypeaheadType=function(){var ka='m_side_nav';if(this.props.simpleSearch){ka+='_simple';}else ka+='_gsv2';return ka;}.bind(this);this.updateSuggestionsIds=function(ka){if(this.touchSource)this.touchSource.setSuggestionsIds(ka);if(v.findDOMNode(this.refs.input).value==='')this.reset();}.bind(this);this.$MReactTypeahead8=function(){this.props.onFocus&&this.props.onFocus();this.query(this.getInputValue());}.bind(this);};f.exports=ha;}),null);
__d('MPlaces',['$','DOM','MLegacyDataStore','LoadingIndicator','MRequest','Stratcom','MPageController','MURI','URI','XPlacesUpdateLocationController','ViewerLocationSource','FWLoader'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=c('FWLoader').FW,t={LINK_SIGIL:'gps-link',FORM_SIGIL:'gps-form',UPDATE_LOCATION_INTERVAL:60000,desiredProperties:['latitude','longitude','accuracy','altitude','altitudeAccuracy','heading','speed'],locationOptions:{enableHighAccuracy:true,timeout:60000,maximumAge:300000},watchID:null,pendingHref:'',pendingForm:null,_JSONLocation:'',_currentSearchMode:null,_lastUpdateTime:0,enableFWGeolocation:true,locationSearchModes:{SEARCH_MODE:'m',MODE_COMPOSER:'cp',MODE_CHECKIN:'ci'},setCurrentJSONLocation:function u(v){t._JSONLocation=v;},getCurrentJSONLocation:function u(){return t._JSONLocation;},setLocationSearchMode:function u(v){t._currentSearchMode=v;},getLocationSearchMode:function u(){return t._currentSearchMode;},shouldUseFWGeolocation:function u(){return window.FW_ENABLED&&s.isIOS()&&t.enableFWGeolocation;},updateLocation:function u(v){if(v){if(t.shouldUseFWGeolocation())v={coords:v};var w={},x;for(var y=0;y<t.desiredProperties.length;y++){x=t.desiredProperties[y];if(v.coords[x])w[x]=v.coords[x];}if(v.timestamp)w.timestamp=v.timestamp/1000;t._JSONLocation=JSON.stringify(w);t.sendCurrentLocationToServer();if(t.pendingForm){t.submitForm(t.pendingForm);}else if(t.pendingHref)t.gotoPage(t.pendingHref);t.pendingForm=null;t.pendingHref='';m.invoke('location-update',null,{position:v});}},handleError:function u(v){t.clearWatch();m.invoke('location-error',null,{error:v});if(t.pendingForm){t.submitForm(t.pendingForm);t.pendingForm=null;}else if(t.pendingHref){t.gotoPage(t.pendingHref);t.pendingHref='';}},sendCurrentLocationToServer:function u(){var v=Date.now();if(v-t._lastUpdateTime>t.UPDATE_LOCATION_INTERVAL){t._lastUpdateTime=v;var w=q.getURIBuilder().setString('json_location',t._JSONLocation).setEnum('source',r.MSITE_PLACES).getURI();new l(w).setMethod('POST').send();}},gotoPage:function u(v){var w=new p(v);w.addQueryData('json_location',t._JSONLocation);n.load(w);},submitForm:function u(v){v.appendChild(i.create('input',{name:'json_location',type:'hidden',value:t._JSONLocation}));if(!v.onsubmit||v.onsubmit())v.submit();},clearWatch:function u(){if(!t.watchID)return;if(t.shouldUseFWGeolocation()){s.geolocation.clearWatch();}else navigator.geolocation.clearWatch(t.watchID);t.watchID=null;},watchPosition:function u(){if(t.shouldUseFWGeolocation()){t.watchID=1;s.geolocation.watchPosition(t.updateLocation,t.handleError);s.geolocation.getCurrentPosition(t.updateLocation);}else{var v=setTimeout(t.handleError,t.locationOptions.timeout);t.watchID=navigator.geolocation.watchPosition(function(w){clearTimeout(v);t.updateLocation(w);},function(w){clearTimeout(v);t.handleError(w);},t.locationOptions);}},monitorLocation:function u(){t.clearWatch();t.watchPosition();l.listen('postprocess',function(){if(!document.getElementById('place_update')&&t.watchID)t.clearWatch();});},submitFormWithLocation:function u(v){if(typeof v=='string')v=h(v);var w=t;k.show();if(w.watchID&&w._JSONLocation){w.submitForm(v);return;}w.pendingHref='';w.pendingForm=v;w.monitorLocation();return false;},gotoPageWithLocation:function u(v){var w=t;k.show();if(w.watchID&&w._JSONLocation){w.gotoPage(v);return;}w.pendingForm=null;w.pendingHref=v;w.monitorLocation();return false;},onClick:function u(event){event.kill();var v=j.get(event.getNode(t.LINK_SIGIL));t.gotoPageWithLocation(v.href);},onSubmit:function u(event){event.kill();var v=i.find(event.getNode(t.FORM_SIGIL),'form');t.submitFormWithLocation(v);}};f.exports=t;}),null);
__d('MBeeperController',['Bootloader','CSS','DOM','MHistory','Stratcom','URI','cx','getActiveElement','setTimeoutAcrossTransitions','$'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s,t,u,v=[],w,x=3000;function y(ga){w=ga;p(function(){l.listen('m_notification',null,z);l.listen('blur',null,aa);l.listen('m:history:change',null,fa);},x);}function z(ga){var ha=ga.getData();if(!ha||!ha.data||w&&!ha.data.type||w&&w.indexOf(ha.data.type)===-1)return;var ia={notification:ha.data};ea(ia);if(!r&&!s){h.loadModules(["ReactComponentRenderer","MBeeper.react"],function(ja,ka){r=ja;s=ka;fa();},'MBeeperController');}else fa();}function aa(ga){var ha=ga.getTarget();if(ha&&ca(ha))setTimeout(fa,50);}function ba(){v.shift();fa();}function ca(ga){var ha=ga.tagName;return ha==='INPUT'||ha==='TEXTAREA'||ga.contentEditable==='true';}function da(){return !(ca(o())||q('root').offsetHeight===0);}function ea(ga){if(!v.find(function(ha){return ha.notification.alert_id===ga.notification.alert_id;}))v.push(ga);}function fa(){if(!da())return;var ga=new m(k.getPath());if(ga.getQueryData().soft==='notifications'){v=[];return;}var ha=v[0];if(!ha)return;if(!u){u=j.create('div');i.addClass(u,"_3hy8");q('page').appendChild(u);}if(!t){t=new r(s,u);t.setProps(babelHelpers['extends']({},ha,{onHide:ba}));}else if(t.component.isReady())t.setProps(ha);}g.init=y;}),null);
__d('MFirstPageRecorder',['DOM','MDeepCopy','MURI','MPageCache','MPageController','MPageHeaderRight','MPageTitle','MPageletTypes','MRenderingScheduler','MRequestConfig','MResponseData','Stratcom','ScriptPath','$','ge','ServerJS'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w,x=true,y=[];function z(){if(w)return;w=true;var aa=new j(l.getRenderedPath()),ba,ca=[];y=[p.getInstance().attachListenerToSyncPageletComplete(function(){k.setCachedPage(aa,ba);k.clearCachedIUIResponses(aa);ca.forEach(function(da){k.addCachedIUIResponse(aa,da);});}),p.getInstance().attachListenerToSyncPageletLoader(function(da){if(da.pageletConfig.type!==o.CONTENT)return;var ea={ajax_response_token:q.ajaxResponseToken.secret,js:da.js||[],css:da.css||[],ixData:da.ixData};ea.actions=[{cmd:'replace',target:da.id,html:da.element?v(da.element).innerHTML:da.content.__html,replaceifexists:false,allownull:false},{cmd:'append',target:'static_templates',html:da.pageletConfig.templates.__html,replaceifexists:true}];var fa=i(da.pageletConfig.serverJSData),ga=[function(){var ma=c('ServerJS');new ma().handle(i(fa));}];if(x){x=false;var ha=u('root').cloneNode(true);ba=new r({ajax_response_token:q.ajaxResponseToken.secret,js:[],css:[],ixData:[],actions:[{cmd:'script',type:'immediate',fn:function ma(){h.replace(u('root'),ha.cloneNode(true));}}]});var ia=m.getChromeHeaderRightContent();if(ia&&ia.length>0)ga.push(function(){var ma=document.createDocumentFragment();for(var na=0;na<ia.length;na++)ma.appendChild(ia[0]);m.setup({node:ma});});var ja=document.title;ga.push(function(){n.setTitle(ja);});var ka=t.getPageInfo();if(ka)ga.push(function(){t.set(ka.scriptPath,ka.categoryToken,ka.extraData);});}for(var la=0;la<ga.length;la++)ea.actions.push({cmd:'script',type:'onload',fn:ga[la]});ca.push(new r(ea));})];}s.listen('m:page:unload',null,function(){y.forEach(function(aa){aa&&aa.remove();aa=null;});w=true;s.removeCurrentListener();});g.startPageletCaching=z;}),null);
__d('MQuickPromotionEmbeddedInterstitial',['DOM','MRequest','Stratcom','XQuickPromotionSimpleLoggingController'],(function a(b,c,d,e,f,g,h,i,j,k){var l=false,m=function n(o,p,q){if(l)return;l=true;function r(event){j.removeCurrentListener();var t=event.getNode(o.promo);h.hide(t);var u=h.find(event.getNode(o.jewel),'div',o.sibling);h.show(u);j.invoke('m:qp:embedded-interstitial:close');}function s(event){if(event.getData().jewel==o.jewel){j.removeCurrentListener();var t=k.getURIBuilder().setInt('qp_id',p).setStringToStringMap('qp_instance_log_data',q).setString('qp_event','view').getURI(),u=new i(t);u.send();}}j.listen('click',o.close,r);j.listen('m:jewel:flyout:open',null,s);};g.main=m;}),null);
__d('MOpenable',['CSS','Stratcom'],(function a(b,c,d,e,f,g,h,i){var j='openable',k='opened',l;function m(o){l=o;h.conditionClass(l,k,true);}function n(){if(l){h.conditionClass(l,k,false);l=null;}}i.listen('touchstart',null,function(event){if(event.getNode(j)!=l)n();});i.listen('click',null,function(event){var o=event.getNode(j),p=l;n();if(o&&o!=p)m(o);});i.listen('touchcancel',null,n);g.main=function(){};}),null);
__d('MSearchTypeaheadSeeMore',['DOM','MSearchTypeaheadSeeMoreExperiments','cx','fbt'],(function a(b,c,d,e,f,g,h,i,j,k){var l=20;function m(){'use strict';this.$MSearchTypeaheadSeeMore1=this.$MSearchTypeaheadSeeMore2();this.$MSearchTypeaheadSeeMore3=h.create('a',{className:"touchable viewMore _2u_r",sigil:'touchable typeahead-result'},[this.$MSearchTypeaheadSeeMore4(),this.$MSearchTypeaheadSeeMore1]);this.$MSearchTypeaheadSeeMore3.isSeeMore=true;}m.prototype.$MSearchTypeaheadSeeMore4=function(){'use strict';return h.create('div',{className:"_2u_s"},h.create('i',{className:"_2u_t"}));};m.prototype.$MSearchTypeaheadSeeMore2=function(){'use strict';return h.create('div',{className:"_2u_u"});};m.prototype.show=function(){'use strict';h.show(this.$MSearchTypeaheadSeeMore3);return this;};m.prototype.hide=function(){'use strict';h.hide(this.$MSearchTypeaheadSeeMore3);return this;};m.prototype.setQuery=function(n){'use strict';this.$MSearchTypeaheadSeeMore3.href='/search/top/?q='+encodeURIComponent(n);h.setContent(this.$MSearchTypeaheadSeeMore1,this.$MSearchTypeaheadSeeMore5(this.$MSearchTypeaheadSeeMore6(n)));return this;};m.prototype.injectInto=function(n){'use strict';var o=i.placement;if(o==='last'){o=n.length;}else o=Number(o);n.splice(o,0,this.$MSearchTypeaheadSeeMore3);return this;};m.prototype.$MSearchTypeaheadSeeMore5=function(n){'use strict';if(i.verbose)return k._(["Ver m\u00e1s resultados de {query}","44e6d113d67af68d7209174cf9420c3d"],[k.param('query',n)]);return n;};m.prototype.$MSearchTypeaheadSeeMore6=function(n){'use strict';if(n.length>l)return n.substr(0,l-3)+'...';return n;};f.exports=m;}),null);
__d('MSearchTypeahead',['DOM','CSS','MPageController','MPlaces','MRequest','MSearchTypeaheadSeeMore','SearchMTouchGlobalOptions','MURI','Stratcom','Typeahead','createDeprecatedProperties','cx','eventsMixinDeprecated','fbt'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v,w;v=babelHelpers.inherits(x,q);w=v&&v.prototype;function x(y,z,aa){'use strict';var ba=h.find(y,'div','searchLoadingIndicator');h.hide(ba);w.constructor.call(this,y,z);this.loadingIndicator=ba;this.recentHeader=h.scry(y,'div','recentSearchesHeader')[0];this.hideRecentHeader();this.PYMKHeader=h.scry(y,'div','PYMKHeader')[0];this.hidePYMKHeader();this._typeaheadSessionID=null;this._seeMore=new m().hide();this.uberbarQRPromo=h.scry(document.body,'*','uberbarQRPromo')[0];if(n.noSnippet)i.addClass(this._root,'nosnippet');h.listen(this._root,'click','tag:a',function(ca){var da=ca.getNode('tag:a');this.invoke('select',da);this.invoke('result-selected',da);}.bind(this));h.listen(this._control,'focus',null,this.onFocus.bind(this));p.listen('m-typeahead-logger:new-session-id',null,function(ca){if(!this._typeaheadSessionID)this._typeaheadSessionID=ca.__auto__data.sessionID;}.bind(this));h.listen(this._control,'blur',null,this.stopWatchLocation);}x.prototype.hide=function(){'use strict';if(this.getPermanent())return;q.prototype.hide.call(this);};x.prototype.setDatasource=function(y){'use strict';q.prototype.setDatasource.call(this,y);y.listen('complete',this.complete.bind(this));this.listen('show',this.resultsShown.bind(this));};x.prototype.submit=function(){'use strict';if(this.getValue()!==''){q.prototype.submit.call(this);if(n.enableSeeMore){var y=new o('/search/').setQueryData({query:this.getValue(),tsid:this._typeaheadSessionID}).toString();this.invoke('on-enter-pressed',y.toString());j.forceLoad(y);}this._control.blur();}};x.prototype.waitForResults=function(){'use strict';if(window.FW_ENABLED){this._root.appendChild(this.loadingIndicator);}else this._root.insertBefore(this.loadingIndicator,this._root.lastChild);h.show(this.loadingIndicator);};x.prototype.complete=function(){'use strict';if(window.FW_ENABLED&&this._display.length===0)this._root.appendChild(h.create('div',{className:'noResults'},u._("No hay resultados")));if(window.FW_ENABLED&&this.uberbarQRPromo){this._root.appendChild(this.uberbarQRPromo);h.show(this.uberbarQRPromo);}h.hide(this.loadingIndicator);};x.prototype.hideRecentHeader=function(){'use strict';this.recentHeader&&h.hide(this.recentHeader);};x.prototype.showRecentHeader=function(){'use strict';this.recentHeader&&h.show(this.recentHeader);};x.prototype.hidePYMKHeader=function(){'use strict';this.PYMKHeader&&h.hide(this.PYMKHeader);};x.prototype.showPYMKHeader=function(){'use strict';this.PYMKHeader&&h.show(this.PYMKHeader);};x.prototype.resultsShown=function(y){'use strict';var z=y.show;if(this.getValue().length!==0){this.hideRecentHeader();this.hidePYMKHeader();if(!window.FW_ENABLED)if(n.enableSeeMore)this._seeMore.setQuery(this.getValue()).injectInto(z).show();z.push(this.loadingIndicator);h.show(this.loadingIndicator);}else{var aa=this.adjustHeaders(z);if(aa>0)i.addClass(z[aa-1],"jx-result-no-border");}if(this.showPresence)this.showPresenceIcons(z);return true;};x.prototype.adjustHeaders=function(y){'use strict';var z=-1;for(var aa=0;aa<y.length;aa++){var ba=h.find(y[aa],'a'),ca=JSON.parse(ba.getAttribute('data-extra'));if(ca.isPYMK){z=aa;break;}}if(z>-1){y.splice(z,0,this.PYMKHeader);this.showPYMKHeader();}else this.hidePYMKHeader();if(z===0){this.hideRecentHeader();}else this.showRecentHeader();if(this.PYMKHeader)i.conditionClass(this.PYMKHeader,"mSearchTypeaheadHeaderWithBorder",z>0);return z;};x.prototype.showPresenceIcons=function(y){'use strict';var z=[];for(var aa=0;aa<y.length;++aa)if(y[aa].rel)z.push(y[aa].rel);var ba=new l(new o('/chat/presence_icon.php').toString());ba.setData({ids:z});ba.listen('done',function(ca){if(!ca||ca.length===0)return;var da=h.scry(this._root,'a','typeahead-result');for(var ea=0;ea<da.length;++ea)if(ca[da[ea].rel]===1){var fa=h.find(da[ea],'i','presence');h.show(fa);}}.bind(this));ba.send();};x.prototype.addLocationAwareSource=function(y){'use strict';p.listen('location-update',null,function(event){y.setAuxiliaryData(Object.assign(y.getAuxiliaryData()||{},{json_location:k.getCurrentJSONLocation()}));});};x.prototype.onFocus=function(){'use strict';this.refresh();this.startWatchLocation();};x.prototype.startWatchLocation=function(){'use strict';if(k.shouldUseFWGeolocation())k.monitorLocation();};x.prototype.stopWatchLocation=function(event){'use strict';k.clearWatch();};r(x,{permanent:false});t(x,['select','result-selected','on-enter-pressed']);Object.assign(x.prototype,{icons:null,loadingIndicator:null,uberbarQRPromo:null,showPresence:false});f.exports=x;}),null);
__d('MTypeaheadNativeSource',['MTypeaheadHelpers','Stratcom','TypeaheadInternationalNormalizer','TypeaheadPreloadedSource','createDeprecatedProperties','eventsMixinDeprecated','FWLoader'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o,p=c('FWLoader').FW;n=babelHelpers.inherits(q,k);o=n&&n.prototype;function q(r){'use strict';o.constructor.call(this,r);this.setNormalizer(j.normalize);}q.prototype.didStart=function(){'use strict';var r=this;i.listen('fw-bootstrapped-results-ready',null,function(s){r.invoke('rawresultsready',s.getData().friends);r.ondata(s.getData().friends);});window.FW_ENABLED&&p.bootstrapUsers();};q.prototype.ondata=function(r){'use strict';for(var s=0;s<r.length;++s)r[s].idx=s;k.prototype.ondata.apply(this,arguments);};q.prototype.sortHits=function(r,s){'use strict';var t=function(u,v){var w=this._raw[u],x=isNaN(w.idx)?Number.MAX_VALUE:w.idx,y=this._raw[v],z=isNaN(y.idx)?Number.MAX_VALUE:y.idx;return x-z;}.bind(this);s.sort(t);};q.prototype.matchResults=function(r){'use strict';var s=this.normalize(r);k.prototype.matchResults.call(this,s);};q.prototype.createNode=function(r){'use strict';return h.createNode(r,this.getShowSecondaryAction());};m(q,['rawresultsready']);l(q,{transformer:function r(s){return {name:s.text,uri:s.path,id:s.uid,photo:s.photo,display:s.display||s.text,action:s.action,paths:s.paths,permissions:s.permissions,bootstrap:s.bootstrap,nativethirdpartyappicon:s.nativethirdpartyappicon};},showSecondaryAction:true});f.exports=q;}),null);
__d('MTypeaheadPackagedSource',['MTypeaheadHelpers','TypeaheadInternationalNormalizer','TypeaheadPreloadedSource','createDeprecatedProperties'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;l=babelHelpers.inherits(n,j);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this);this.packagedResults=o;this.setNormalizer(i.normalize);}n.prototype.didStart=function(){'use strict';this.ondata(this.packagedResults);};n.prototype.ondata=function(o){'use strict';for(var p=0;p<o.length;++p)o[p].idx=p;j.prototype.ondata.apply(this,arguments);};n.prototype.sortHits=function(o,p){'use strict';var q=function(r,s){var t=this._raw[r],u=isNaN(t.idx)?Number.MAX_VALUE:t.idx,v=this._raw[s],w=isNaN(v.idx)?Number.MAX_VALUE:v.idx;return u-w;}.bind(this);p.sort(q);};n.prototype.matchResults=function(o){'use strict';var p=this.normalize(o);j.prototype.matchResults.call(this,p);};n.prototype.createNode=function(o){'use strict';return h.createNode(o,this.getShowSecondaryAction());};k(n,{transformer:function o(p){return {name:p.text,uri:p.path,id:p.uid,photo:p.photo,display:p.display||p.text,action:p.action,paths:p.paths,permissions:p.permissions,type:p.type,openinnewtab:p.openinnewtab,subtext:p.subtext,bootstrap:p.bootstrap,verified:p.verified,nativethirdpartyappicon:p.nativethirdpartyappicon};},packagedResults:null,showSecondaryAction:true});f.exports=n;}),null);
__d('InitMSearchTypeahead',['$','DOM','MLegacyDataStore','MSearchTypeahead','MSearchTypeaheadLogger','MSearchTypeaheadPerfLoggerUtil','MTypeaheadNativeSource','MTypeaheadNullstateSource','MTypeaheadOnDemandSource','MTypeaheadPackagedSource','MTypeaheadTouchSource','Stratcom','TypeaheadCompositeSource','SearchMTouchGlobalOptions','FWLoader'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=c('FWLoader').FW,w,x,y,z=function aa(ba){if(w)return;w=true;x=h(ba.id);var ca=h(ba.textinput);if(ca.tagName.toLowerCase()!=='input')ca=i.find(ca,'input');y=new k(x,ca,{photoSize:ba.photoSize,reportProblemURI:ba.reportProblemURI});if(ba.mSideNavMarauderLogger)ba.mSideNavMarauderLogger.setupTypeaheadListener(y);var da,ea=[];if(ba.sources.packagedSource){da=new q(ba.sources.packagedSource.packagedresults);da.setShowSecondaryAction(ba.showSecondaryAction);ea.push(da);}if(ba.sources.nativeSource){da=new n();da.setShowSecondaryAction(ba.showSecondaryAction);ea.push(da);}if(ba.sources.bootstrapped){da=new r(ba.sources.bootstrapped.src,ba.sources.bootstrapped.source_key);da.setShowSecondaryAction(ba.showSecondaryAction);ea.push(da);}if(ba.sources.nullstate){da=new o(ba.sources.nullstate.src);da.setMaximumResultCount(ba.sources.nullstate.max_results);ea.push(da);}if(ba.sources.online){da=new p(ba.sources.online.src);if(ba.sources.online.max_results)da.setMaximumResultCount(ba.sources.online.max_results);da.setEnableImmediateReturnOfCachedResults(ba.sources.online.enable_caching);if(u.enableQueryThrottle)da.setThrottleSendRequest(u.queryThrottleTime);da.setMaxResults(u.maxResults);da.setEnableEagerSendRequest(u.enableEagerSendRequest);da.setQueryDelay(u.queryWaitTime);da.setShowSecondaryAction(ba.showSecondaryAction);ea.push(da);if(ba.sources.online.useLocation)y.addLocationAwareSource(da);}var fa=new t(ea);fa.disableEmptyMergeKey();y.setDatasource(fa);y.setPermanent(ba.permanent);if(ba.showPresence)y.showPresence=true;if(ba.typeaheadScubaInfo)m.getNewMSearchTypeaheadPerfLogger(y,ba.typeaheadScubaInfo,ba.sources.online.enable_caching);var ga='/search/metrics.php',ha=new l(y,ga);s.listen('log-m-search-session-end',null,function(ia){ha.blur(ia.getData().reason);});j.get(x).typeahead=y;s.listen('m-search-typeahead-change',null,function(ia){if(ia.getData().query!=y.getValue()){y.setValue(ia.getData().query);y.refresh();}});i.listen(x,'click','typeahead-result',function(){ca.blur();});s.listen('m:search-typeahead:clear',null,function(ia){y.setValue('');y.refresh();});s.invoke('m:search-typeahead:ready');y.start();if(ca.value!=='')y.refresh();if(window.FW_ENABLED)v.ubersearchReady();};g.main=z;}),null);
__d('areEqual',[],(function a(b,c,d,e,f,g){var h=[],i=[];function j(l,m){var n=h.length?h.pop():[],o=i.length?i.pop():[],p=k(l,m,n,o);n.length=0;o.length=0;h.push(n);i.push(o);return p;}function k(l,m,n,o){if(l===m)return l!==0||1/l==1/m;if(l==null||m==null)return false;if(typeof l!='object'||typeof m!='object')return false;var p=Object.prototype.toString,q=p.call(l);if(q!=p.call(m))return false;switch(q){case '[object String]':return l==String(m);case '[object Number]':return isNaN(l)||isNaN(m)?false:l==Number(m);case '[object Date]':case '[object Boolean]':return +l==+m;case '[object RegExp]':return l.source==m.source&&l.global==m.global&&l.multiline==m.multiline&&l.ignoreCase==m.ignoreCase;}var r=n.length;while(r--)if(n[r]==l)return o[r]==m;n.push(l);o.push(m);var s=0;if(q==='[object Array]'){s=l.length;if(s!==m.length)return false;while(s--)if(!k(l[s],m[s],n,o))return false;}else{if(l.constructor!==m.constructor)return false;if(l.hasOwnProperty('valueOf')&&m.hasOwnProperty('valueOf'))return l.valueOf()==m.valueOf();var t=Object.keys(l);if(t.length!=Object.keys(m).length)return false;for(var u=0;u<t.length;u++)if(!k(l[t[u]],m[t[u]],n,o))return false;}n.pop();o.pop();return true;}f.exports=j;}),null);
__d("arrayContains",[],(function a(b,c,d,e,f,g){function h(i,j){return i.indexOf(j)!==-1;}f.exports=h;}),null);
__d('DOMContainer.react',['React','ReactDOM','invariant','isNode'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.getDOMChild=function(){var u=this.props.children;k(u)||j(0);return u;}.bind(this),q;}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return p.children!==this.props.children;};o.prototype.componentDidMount=function(){'use strict';i.findDOMNode(this).appendChild(this.getDOMChild());};o.prototype.componentDidUpdate=function(){'use strict';var p=i.findDOMNode(this);while(p.lastChild)p.removeChild(p.lastChild);p.appendChild(this.getDOMChild());};o.prototype.render=function(){'use strict';if(this.props.display==='block')return h.createElement('div',this.props,undefined);return h.createElement('span',this.props,undefined);};o.propTypes={display:n.oneOf(['inline','block'])};o.defaultProps={display:'inline'};f.exports=o;}),null);
__d('LeftRight.react',['React','cx','invariant','keyMirror','joinClasses'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n,o=k({left:true,right:true,both:true});function p(s){s&&(s.length===1||s.length===2)||j(0);}function q(s){var t=[];h.Children.forEach(s,function(u){t.push(u);},this);return t;}m=babelHelpers.inherits(r,h.Component);n=m&&m.prototype;r.prototype.render=function(){'use strict';var s=q(this.props.children);p(s);var t=this.props.direction||o.both,u=t===o.both,v=u||t===o.left?"_ohe lfloat":'',w=u||t===o.right?"_ohf rfloat":'',x=h.createElement('div',{key:'left',className:v},s[0]),y=s.length<2?null:h.createElement('div',{key:'right',className:w},s[1]),z=t===o.right&&y?[y,x]:[x,y];return (h.createElement('div',babelHelpers['extends']({},this.props,{className:l(this.props.className,"clearfix")}),z));};function r(){'use strict';m.apply(this,arguments);}r.DIRECTION=o;f.exports=r;}),null);